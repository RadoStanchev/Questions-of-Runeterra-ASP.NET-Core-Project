@model QuestionServiceModel
@{
    string checkImageWebPath = $"{imagesPath}/114282010-check-mark-symbol-check-box-icon.jpg".Replace("\\", "/");
}

<h4 class="text-center">@ViewBag.Title</h4>
<form class="offset-1 col-10" method="post">
    <div class="form-group">
        <label for="exampleFormControlTextarea1">Question</label>
        <textarea asp-for="@Model.Content" class="form-control" id="exampleFormControlTextarea1" rows="2" placeholder="Write your Question here"></textarea>
        <span asp-validation-for="@Model.Content"></span>
    </div>
    <div class="form-group">
        <span asp-validation-for="Answers"></span>
    </div>
    <input asp-for="@Model.Id" name="Id" type="text" value="@(Model == null ? null : Model.Id)" hidden>
    @*<div id="partial">
            <partial name="_AnswerInput" />
        </div>
        <div id="addAnswerPartial"></div>*@

    <div class="form-row">
        <div class="form-group">
            <button type="submit" class="btn btn-primary form-control">
                @if (Model == null || Model.Id == null)
                {
                    <span>Let's add some answers to it!</span>
                }
                else
                {
                    <span>Edit the answers</span>
                }
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
        </div>
        <div class="form-group offset-8">
            @if (Model != null && Model.Id != null)
            {
                <a class="form-control" asp-action="@nameof(QuestionsController.Save)" asp-controller="Questions" asp-route-Id="@(Model == null ? null : Model.Id)">
                    Save Question
                </a>
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
            }
        </div>
    </div>
</form>

@*<script>
        function func(e) {
            e.preventDefault();
            let partial = document.getElementById('partial').cloneNode(true);
            partial.addEventListener('input', e => func(e))
            document.getElementById('addAnswerPartial').appendChild(partial);
            e.removeEventListener('input', e => func(e), false);
        }

        document.getElementsByClassName('answerInput')[0].addEventListener('input', e => func(e))
    </script>*@